<!DOCTYPE html>

<html xmlns="http://www.w3.org/1999/xhtml">

<head>

<meta charset="utf-8" />
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name="generator" content="pandoc" />




<title>Colored Ribbons</title>

<script src="site_libs/jquery-1.11.3/jquery.min.js"></script>
<meta name="viewport" content="width=device-width, initial-scale=1" />
<link href="site_libs/bootstrap-3.3.5/css/flatly.min.css" rel="stylesheet" />
<script src="site_libs/bootstrap-3.3.5/js/bootstrap.min.js"></script>
<script src="site_libs/bootstrap-3.3.5/shim/html5shiv.min.js"></script>
<script src="site_libs/bootstrap-3.3.5/shim/respond.min.js"></script>
<script src="site_libs/navigation-1.1/tabsets.js"></script>
<link href="site_libs/highlightjs-9.12.0/textmate.css" rel="stylesheet" />
<script src="site_libs/highlightjs-9.12.0/highlight.js"></script>
<script src="site_libs/htmlwidgets-1.2/htmlwidgets.js"></script>
<link href="site_libs/dygraphs-1.1.1/dygraph.css" rel="stylesheet" />
<script src="site_libs/dygraphs-1.1.1/dygraph-combined.js"></script>
<script src="site_libs/dygraphs-1.1.1/shapes.js"></script>
<script src="site_libs/moment-2.8.4/moment.js"></script>
<script src="site_libs/moment-timezone-0.2.5/moment-timezone-with-data.js"></script>
<script src="site_libs/moment-fquarter-1.0.0/moment-fquarter.min.js"></script>
<script src="site_libs/dygraphs-binding-1.1.1.5/dygraphs.js"></script>
<script src="site_libs/Dygraph.Plugins.Ribbon-1.0/ribbon.js"></script>
<link href="style.css" rel="stylesheet" />

<style type="text/css">code{white-space: pre;}</style>
<style type="text/css">
  pre:not([class]) {
    background-color: white;
  }
</style>
<script type="text/javascript">
if (window.hljs) {
  hljs.configure({languages: []});
  hljs.initHighlightingOnLoad();
  if (document.readyState && document.readyState === "complete") {
    window.setTimeout(function() { hljs.initHighlighting(); }, 0);
  }
}
</script>



<style type="text/css">
h1 {
  font-size: 34px;
}
h1.title {
  font-size: 38px;
}
h2 {
  font-size: 30px;
}
h3 {
  font-size: 24px;
}
h4 {
  font-size: 18px;
}
h5 {
  font-size: 16px;
}
h6 {
  font-size: 12px;
}
.table th:not([align]) {
  text-align: left;
}
</style>


</head>

<body>

<style type = "text/css">
.main-container {
  max-width: 940px;
  margin-left: auto;
  margin-right: auto;
}
code {
  color: inherit;
  background-color: rgba(0, 0, 0, 0.04);
}
img {
  max-width:100%;
  height: auto;
}
.tabbed-pane {
  padding-top: 12px;
}
.html-widget {
  margin-bottom: 20px;
}
button.code-folding-btn:focus {
  outline: none;
}
</style>



<div class="container-fluid main-container">

<!-- tabsets -->
<script>
$(document).ready(function () {
  window.buildTabsets("TOC");
});
</script>

<!-- code folding -->






<div class="row-fluid">

<div class="col-md-3">
  
<ul class="nav nav-list well sidebar-nav sidebar-nav-fixed">
  
  <h4>dygraphs for R</h4>
  
  <li><a href="index.html">Home</a></li>
  
  <li class="nav-header">Using</li>
  <li><a href="r-console.html">R Console</a></li>
  <li><a href="r-markdown.html">R Markdown</a></li>
  <li><a href="shiny.html">Shiny</a></li>
  
  <li class="nav-header">Gallery</li>
  <li><a href="gallery-series-options.html">Series Options</a></li>
  <li><a href="gallery-series-highlighting.html">Series Highlighting</a></li>
  <li><a href="gallery-axis-options.html">Axis Options</a></li>
  <li><a href="gallery-plot-labels.html">Labels &amp; Legends</a></li>
  <li><a href="gallery-timezones.html">Time Zones</a></li>
  <li><a href="gallery-css-styling.html">CSS Styling</a></li>
  <li><a href="gallery-range-selector.html">Range Selector</a></li>
  <li><a href="gallery-candlestick.html">Candlestick Charts</a></li>
  <li><a href="gallery-synchronization.html">Synchronization</a></li>
  <li><a href="gallery-straw-broom.html">Straw Broom Charts</a></li>
  <li><a href="gallery-roll-periods.html">Roll Periods</a></li>
  <li><a href="gallery-annotations.html">Annotation/Shading</a></li>
  <li><a href="gallery-event-lines.html">Events and Limits</a></li>
  <li><a href="gallery-upper-lower-bars.html">Upper/Lower Bars</a></li>
  <li><a href="gallery-plugins.html">Plugins</a></li>
  <li><a href="gallery-custom-plotters.html">Custom Plotters</a></li>
  <li><a href="gallery-ribbon.html">Colored Ribbon</a></li>
</ul>
  
</div>
  
<div class="col-md-9">

<div class="fluid-row" id="header">



<h1 class="title toc-ignore">Colored Ribbons</h1>

</div>


<p>Ribbon is a horizontal band of colors that runs through the chart. It can be useful to visualize categorical variables (<a href="http://en.wikipedia.org/wiki/Categorical_variable" class="uri">http://en.wikipedia.org/wiki/Categorical_variable</a>) that change over time (along the x-axis). For example multiple states of economy like “bust”, “recession”, “recovery”, “boom” can be encoded as <code>[0, 1, 2, 3]</code> respectively (or normalized as <code>[0, 0.33, 0.66, 1]</code>) and assigned colors <code>[&quot;red&quot;, &quot;orange&quot;, &quot;green&quot;, &quot;purple&quot;]</code>.</p>
<p>The following chart contains a colored ribon at the bottom. The position of ribbon is set with <code>top</code> and <code>bottom</code> parameters of <code>dyRibbon</code> function, <code>0</code> means the very bottom of chart while <code>1</code> represents a very top.</p>
<pre class="r"><code>library(quantmod)

getSymbols(&quot;SPY&quot;, from = &quot;2016-12-01&quot;, auto.assign=TRUE)</code></pre>
<pre><code>## [1] &quot;SPY&quot;</code></pre>
<pre class="r"><code>difference &lt;- SPY[, &quot;SPY.Open&quot;] - SPY[, &quot;SPY.Close&quot;]
decreasing &lt;- which(difference &lt; 0)
increasing &lt;- which(difference &gt; 0)

dyData &lt;- SPY[, &quot;SPY.Close&quot;]

ribbonData &lt;- rep(0, nrow(dyData))
ribbonData[decreasing] &lt;- 0.5
ribbonData[increasing] &lt;- 1

dygraph(dyData) %&gt;%
    dyRibbon(data = ribbonData, top = 0.1, bottom = 0.02)</code></pre>
<div id="htmlwidget-0d7f15510285e594beb0" style="width:624px;height:336px;" class="dygraphs html-widget"></div>
<script type="application/json" data-for="htmlwidget-0d7f15510285e594beb0">{"x":{"attrs":{"labels":["day","SPY.Close"],"legend":"auto","retainDateWindow":false,"axes":{"x":{"pixelsPerLabel":60}}},"scale":"daily","annotations":[],"shadings":[],"events":[],"format":"date","data":[["2016-12-01T00:00:00.000Z","2016-12-02T00:00:00.000Z","2016-12-05T00:00:00.000Z","2016-12-06T00:00:00.000Z","2016-12-07T00:00:00.000Z","2016-12-08T00:00:00.000Z","2016-12-09T00:00:00.000Z","2016-12-12T00:00:00.000Z","2016-12-13T00:00:00.000Z","2016-12-14T00:00:00.000Z","2016-12-15T00:00:00.000Z","2016-12-16T00:00:00.000Z","2016-12-19T00:00:00.000Z","2016-12-20T00:00:00.000Z","2016-12-21T00:00:00.000Z","2016-12-22T00:00:00.000Z","2016-12-23T00:00:00.000Z","2016-12-27T00:00:00.000Z","2016-12-28T00:00:00.000Z","2016-12-29T00:00:00.000Z","2016-12-30T00:00:00.000Z","2017-01-03T00:00:00.000Z","2017-01-04T00:00:00.000Z","2017-01-05T00:00:00.000Z","2017-01-06T00:00:00.000Z","2017-01-09T00:00:00.000Z","2017-01-10T00:00:00.000Z","2017-01-11T00:00:00.000Z","2017-01-12T00:00:00.000Z","2017-01-13T00:00:00.000Z","2017-01-17T00:00:00.000Z","2017-01-18T00:00:00.000Z","2017-01-19T00:00:00.000Z","2017-01-20T00:00:00.000Z","2017-01-23T00:00:00.000Z","2017-01-24T00:00:00.000Z","2017-01-25T00:00:00.000Z","2017-01-26T00:00:00.000Z","2017-01-27T00:00:00.000Z","2017-01-30T00:00:00.000Z","2017-01-31T00:00:00.000Z","2017-02-01T00:00:00.000Z","2017-02-02T00:00:00.000Z","2017-02-03T00:00:00.000Z","2017-02-06T00:00:00.000Z","2017-02-07T00:00:00.000Z","2017-02-08T00:00:00.000Z","2017-02-09T00:00:00.000Z","2017-02-10T00:00:00.000Z","2017-02-13T00:00:00.000Z","2017-02-14T00:00:00.000Z","2017-02-15T00:00:00.000Z","2017-02-16T00:00:00.000Z","2017-02-17T00:00:00.000Z","2017-02-21T00:00:00.000Z","2017-02-22T00:00:00.000Z","2017-02-23T00:00:00.000Z","2017-02-24T00:00:00.000Z","2017-02-27T00:00:00.000Z","2017-02-28T00:00:00.000Z","2017-03-01T00:00:00.000Z","2017-03-02T00:00:00.000Z","2017-03-03T00:00:00.000Z","2017-03-06T00:00:00.000Z","2017-03-07T00:00:00.000Z","2017-03-08T00:00:00.000Z","2017-03-09T00:00:00.000Z","2017-03-10T00:00:00.000Z","2017-03-13T00:00:00.000Z","2017-03-14T00:00:00.000Z","2017-03-15T00:00:00.000Z","2017-03-16T00:00:00.000Z","2017-03-17T00:00:00.000Z","2017-03-20T00:00:00.000Z","2017-03-21T00:00:00.000Z","2017-03-22T00:00:00.000Z","2017-03-23T00:00:00.000Z","2017-03-24T00:00:00.000Z","2017-03-27T00:00:00.000Z","2017-03-28T00:00:00.000Z","2017-03-29T00:00:00.000Z","2017-03-30T00:00:00.000Z","2017-03-31T00:00:00.000Z","2017-04-03T00:00:00.000Z","2017-04-04T00:00:00.000Z","2017-04-05T00:00:00.000Z","2017-04-06T00:00:00.000Z","2017-04-07T00:00:00.000Z","2017-04-10T00:00:00.000Z","2017-04-11T00:00:00.000Z","2017-04-12T00:00:00.000Z","2017-04-13T00:00:00.000Z","2017-04-17T00:00:00.000Z","2017-04-18T00:00:00.000Z","2017-04-19T00:00:00.000Z","2017-04-20T00:00:00.000Z","2017-04-21T00:00:00.000Z","2017-04-24T00:00:00.000Z","2017-04-25T00:00:00.000Z","2017-04-26T00:00:00.000Z","2017-04-27T00:00:00.000Z","2017-04-28T00:00:00.000Z","2017-05-01T00:00:00.000Z","2017-05-02T00:00:00.000Z","2017-05-03T00:00:00.000Z","2017-05-04T00:00:00.000Z","2017-05-05T00:00:00.000Z","2017-05-08T00:00:00.000Z","2017-05-09T00:00:00.000Z","2017-05-10T00:00:00.000Z","2017-05-11T00:00:00.000Z","2017-05-12T00:00:00.000Z","2017-05-15T00:00:00.000Z","2017-05-16T00:00:00.000Z","2017-05-17T00:00:00.000Z","2017-05-18T00:00:00.000Z","2017-05-19T00:00:00.000Z","2017-05-22T00:00:00.000Z","2017-05-23T00:00:00.000Z","2017-05-24T00:00:00.000Z","2017-05-25T00:00:00.000Z","2017-05-26T00:00:00.000Z","2017-05-30T00:00:00.000Z","2017-05-31T00:00:00.000Z","2017-06-01T00:00:00.000Z","2017-06-02T00:00:00.000Z","2017-06-05T00:00:00.000Z","2017-06-06T00:00:00.000Z","2017-06-07T00:00:00.000Z","2017-06-08T00:00:00.000Z","2017-06-09T00:00:00.000Z","2017-06-12T00:00:00.000Z","2017-06-13T00:00:00.000Z","2017-06-14T00:00:00.000Z","2017-06-15T00:00:00.000Z","2017-06-16T00:00:00.000Z","2017-06-19T00:00:00.000Z","2017-06-20T00:00:00.000Z","2017-06-21T00:00:00.000Z","2017-06-22T00:00:00.000Z","2017-06-23T00:00:00.000Z","2017-06-26T00:00:00.000Z","2017-06-27T00:00:00.000Z","2017-06-28T00:00:00.000Z","2017-06-29T00:00:00.000Z","2017-06-30T00:00:00.000Z","2017-07-03T00:00:00.000Z","2017-07-05T00:00:00.000Z","2017-07-06T00:00:00.000Z","2017-07-07T00:00:00.000Z","2017-07-10T00:00:00.000Z","2017-07-11T00:00:00.000Z","2017-07-12T00:00:00.000Z","2017-07-13T00:00:00.000Z","2017-07-14T00:00:00.000Z","2017-07-17T00:00:00.000Z","2017-07-18T00:00:00.000Z","2017-07-19T00:00:00.000Z","2017-07-20T00:00:00.000Z","2017-07-21T00:00:00.000Z","2017-07-24T00:00:00.000Z","2017-07-25T00:00:00.000Z","2017-07-26T00:00:00.000Z","2017-07-27T00:00:00.000Z","2017-07-28T00:00:00.000Z","2017-07-31T00:00:00.000Z","2017-08-01T00:00:00.000Z","2017-08-02T00:00:00.000Z","2017-08-03T00:00:00.000Z","2017-08-04T00:00:00.000Z","2017-08-07T00:00:00.000Z","2017-08-08T00:00:00.000Z","2017-08-09T00:00:00.000Z","2017-08-10T00:00:00.000Z","2017-08-11T00:00:00.000Z","2017-08-14T00:00:00.000Z","2017-08-15T00:00:00.000Z","2017-08-16T00:00:00.000Z","2017-08-17T00:00:00.000Z","2017-08-18T00:00:00.000Z","2017-08-21T00:00:00.000Z","2017-08-22T00:00:00.000Z","2017-08-23T00:00:00.000Z","2017-08-24T00:00:00.000Z","2017-08-25T00:00:00.000Z","2017-08-28T00:00:00.000Z","2017-08-29T00:00:00.000Z","2017-08-30T00:00:00.000Z","2017-08-31T00:00:00.000Z","2017-09-01T00:00:00.000Z","2017-09-05T00:00:00.000Z","2017-09-06T00:00:00.000Z","2017-09-07T00:00:00.000Z","2017-09-08T00:00:00.000Z","2017-09-11T00:00:00.000Z","2017-09-12T00:00:00.000Z","2017-09-13T00:00:00.000Z","2017-09-14T00:00:00.000Z","2017-09-15T00:00:00.000Z","2017-09-18T00:00:00.000Z","2017-09-19T00:00:00.000Z","2017-09-20T00:00:00.000Z","2017-09-21T00:00:00.000Z","2017-09-22T00:00:00.000Z","2017-09-25T00:00:00.000Z","2017-09-26T00:00:00.000Z","2017-09-27T00:00:00.000Z","2017-09-28T00:00:00.000Z","2017-09-29T00:00:00.000Z","2017-10-02T00:00:00.000Z","2017-10-03T00:00:00.000Z","2017-10-04T00:00:00.000Z","2017-10-05T00:00:00.000Z","2017-10-06T00:00:00.000Z","2017-10-09T00:00:00.000Z","2017-10-10T00:00:00.000Z","2017-10-11T00:00:00.000Z","2017-10-12T00:00:00.000Z","2017-10-13T00:00:00.000Z","2017-10-16T00:00:00.000Z","2017-10-17T00:00:00.000Z","2017-10-18T00:00:00.000Z","2017-10-19T00:00:00.000Z","2017-10-20T00:00:00.000Z","2017-10-23T00:00:00.000Z","2017-10-24T00:00:00.000Z","2017-10-25T00:00:00.000Z","2017-10-26T00:00:00.000Z","2017-10-27T00:00:00.000Z","2017-10-30T00:00:00.000Z","2017-10-31T00:00:00.000Z","2017-11-01T00:00:00.000Z","2017-11-02T00:00:00.000Z","2017-11-03T00:00:00.000Z","2017-11-06T00:00:00.000Z","2017-11-07T00:00:00.000Z","2017-11-08T00:00:00.000Z","2017-11-09T00:00:00.000Z","2017-11-10T00:00:00.000Z","2017-11-13T00:00:00.000Z","2017-11-14T00:00:00.000Z","2017-11-15T00:00:00.000Z","2017-11-16T00:00:00.000Z","2017-11-17T00:00:00.000Z","2017-11-20T00:00:00.000Z","2017-11-21T00:00:00.000Z","2017-11-22T00:00:00.000Z","2017-11-24T00:00:00.000Z","2017-11-27T00:00:00.000Z","2017-11-28T00:00:00.000Z","2017-11-29T00:00:00.000Z","2017-11-30T00:00:00.000Z","2017-12-01T00:00:00.000Z","2017-12-04T00:00:00.000Z","2017-12-05T00:00:00.000Z","2017-12-06T00:00:00.000Z","2017-12-07T00:00:00.000Z","2017-12-08T00:00:00.000Z","2017-12-11T00:00:00.000Z","2017-12-12T00:00:00.000Z","2017-12-13T00:00:00.000Z","2017-12-14T00:00:00.000Z","2017-12-15T00:00:00.000Z","2017-12-18T00:00:00.000Z","2017-12-19T00:00:00.000Z","2017-12-20T00:00:00.000Z","2017-12-21T00:00:00.000Z","2017-12-22T00:00:00.000Z","2017-12-26T00:00:00.000Z","2017-12-27T00:00:00.000Z","2017-12-28T00:00:00.000Z","2017-12-29T00:00:00.000Z","2018-01-02T00:00:00.000Z","2018-01-03T00:00:00.000Z","2018-01-04T00:00:00.000Z","2018-01-05T00:00:00.000Z","2018-01-08T00:00:00.000Z","2018-01-09T00:00:00.000Z","2018-01-10T00:00:00.000Z","2018-01-11T00:00:00.000Z","2018-01-12T00:00:00.000Z","2018-01-16T00:00:00.000Z","2018-01-17T00:00:00.000Z","2018-01-18T00:00:00.000Z","2018-01-19T00:00:00.000Z","2018-01-22T00:00:00.000Z","2018-01-23T00:00:00.000Z","2018-01-24T00:00:00.000Z","2018-01-25T00:00:00.000Z","2018-01-26T00:00:00.000Z","2018-01-29T00:00:00.000Z","2018-01-30T00:00:00.000Z","2018-01-31T00:00:00.000Z","2018-02-01T00:00:00.000Z","2018-02-02T00:00:00.000Z","2018-02-05T00:00:00.000Z","2018-02-06T00:00:00.000Z","2018-02-07T00:00:00.000Z","2018-02-08T00:00:00.000Z","2018-02-09T00:00:00.000Z","2018-02-12T00:00:00.000Z","2018-02-13T00:00:00.000Z","2018-02-14T00:00:00.000Z","2018-02-15T00:00:00.000Z","2018-02-16T00:00:00.000Z","2018-02-20T00:00:00.000Z","2018-02-21T00:00:00.000Z","2018-02-22T00:00:00.000Z","2018-02-23T00:00:00.000Z","2018-02-26T00:00:00.000Z","2018-02-27T00:00:00.000Z","2018-02-28T00:00:00.000Z","2018-03-01T00:00:00.000Z","2018-03-02T00:00:00.000Z","2018-03-05T00:00:00.000Z","2018-03-06T00:00:00.000Z","2018-03-07T00:00:00.000Z","2018-03-08T00:00:00.000Z","2018-03-09T00:00:00.000Z","2018-03-12T00:00:00.000Z","2018-03-13T00:00:00.000Z","2018-03-14T00:00:00.000Z","2018-03-15T00:00:00.000Z","2018-03-16T00:00:00.000Z","2018-03-19T00:00:00.000Z","2018-03-20T00:00:00.000Z","2018-03-21T00:00:00.000Z","2018-03-22T00:00:00.000Z","2018-03-23T00:00:00.000Z","2018-03-26T00:00:00.000Z","2018-03-27T00:00:00.000Z","2018-03-28T00:00:00.000Z","2018-03-29T00:00:00.000Z","2018-04-02T00:00:00.000Z","2018-04-03T00:00:00.000Z","2018-04-04T00:00:00.000Z","2018-04-05T00:00:00.000Z","2018-04-06T00:00:00.000Z","2018-04-09T00:00:00.000Z","2018-04-10T00:00:00.000Z","2018-04-11T00:00:00.000Z","2018-04-12T00:00:00.000Z","2018-04-13T00:00:00.000Z","2018-04-16T00:00:00.000Z","2018-04-17T00:00:00.000Z","2018-04-18T00:00:00.000Z","2018-04-19T00:00:00.000Z","2018-04-20T00:00:00.000Z","2018-04-23T00:00:00.000Z","2018-04-24T00:00:00.000Z","2018-04-25T00:00:00.000Z","2018-04-26T00:00:00.000Z","2018-04-27T00:00:00.000Z","2018-04-30T00:00:00.000Z","2018-05-01T00:00:00.000Z","2018-05-02T00:00:00.000Z","2018-05-03T00:00:00.000Z","2018-05-04T00:00:00.000Z","2018-05-07T00:00:00.000Z","2018-05-08T00:00:00.000Z","2018-05-09T00:00:00.000Z","2018-05-10T00:00:00.000Z","2018-05-11T00:00:00.000Z","2018-05-14T00:00:00.000Z","2018-05-15T00:00:00.000Z","2018-05-16T00:00:00.000Z","2018-05-17T00:00:00.000Z","2018-05-18T00:00:00.000Z","2018-05-21T00:00:00.000Z","2018-05-22T00:00:00.000Z","2018-05-23T00:00:00.000Z","2018-05-24T00:00:00.000Z","2018-05-25T00:00:00.000Z","2018-05-29T00:00:00.000Z","2018-05-30T00:00:00.000Z","2018-05-31T00:00:00.000Z","2018-06-01T00:00:00.000Z","2018-06-04T00:00:00.000Z","2018-06-05T00:00:00.000Z","2018-06-06T00:00:00.000Z","2018-06-07T00:00:00.000Z","2018-06-08T00:00:00.000Z","2018-06-11T00:00:00.000Z","2018-06-12T00:00:00.000Z","2018-06-13T00:00:00.000Z","2018-06-14T00:00:00.000Z","2018-06-15T00:00:00.000Z","2018-06-18T00:00:00.000Z","2018-06-19T00:00:00.000Z","2018-06-20T00:00:00.000Z","2018-06-21T00:00:00.000Z","2018-06-22T00:00:00.000Z","2018-06-25T00:00:00.000Z"],[219.570007,219.679993,221,221.699997,224.600006,225.149994,226.509995,226.25,227.759995,225.880005,226.809998,225.039993,225.529999,226.399994,225.770004,225.380005,225.710007,226.270004,224.399994,224.350006,223.529999,225.240005,226.580002,226.399994,227.210007,226.460007,226.460007,227.100006,226.529999,227.050003,226.25,226.75,225.910004,226.740005,226.149994,227.600006,229.570007,229.330002,228.970001,227.550003,227.529999,227.619995,227.770004,229.339996,228.929993,228.940002,229.240005,230.600006,231.509995,232.770004,233.699997,234.919998,234.720001,235.089996,236.490005,236.279999,236.440002,236.740005,237.110001,236.470001,239.779999,238.270004,238.419998,237.710007,237,236.559998,236.860001,237.690002,237.809998,236.899994,238.949997,238.479996,237.029999,236.770004,233.729996,234.279999,234.029999,233.860001,233.619995,235.320007,235.539993,236.289993,235.740005,235.330002,235.479996,234.779999,235.440002,235.199997,235.339996,235.059998,234.029999,232.509995,234.570007,233.869995,233.440002,235.339996,234.589996,237.169998,238.550003,238.399994,238.600006,238.080002,238.679993,238.770004,238.479996,238.759995,239.699997,239.660004,239.440002,239.869995,239.380005,238.979996,240.300003,240.080002,235.820007,236.770004,238.309998,239.520004,240.050003,240.610001,241.759995,241.710007,241.5,241.440002,243.360001,244.169998,243.990005,243.210007,243.660004,243.779999,243.410004,243.360001,244.550003,244.240005,243.770004,242.639999,244.660004,243.009995,242.949997,242.839996,243.130005,243.289993,241.330002,243.490005,241.350006,241.800003,242.210007,242.770004,240.550003,242.110001,242.369995,242.190002,244.009995,244.419998,245.559998,245.529999,245.660004,246.990005,247.100006,246.880005,246.820007,247.419998,247.429993,247.199997,246.910004,246.770004,247.320007,247.440002,246.960007,247.410004,247.869995,247.259995,247.25,243.759995,244.119995,246.539993,246.509995,246.940002,243.089996,242.710007,242.899994,245.440002,244.559998,243.990005,244.559998,244.570007,244.850006,246.009995,247.490005,247.839996,246.059998,246.899994,246.869995,246.580002,249.210007,250.050003,250.169998,250.089996,249.190002,249.720001,249.970001,250.059998,249.389999,249.440002,248.929993,249.080002,250.050003,250.350006,251.229996,252.320007,252.860001,253.160004,254.660004,254.369995,253.949997,254.619995,255.020004,254.639999,254.949997,255.289993,255.470001,255.720001,255.789993,257.109985,256.109985,256.559998,255.289993,255.619995,257.709991,256.75,257.149994,257.48999,257.589996,258.450012,258.850006,258.670013,259.109985,258.170013,258.089996,258.329987,257.730011,256.440002,258.619995,257.859985,258.299988,259.98999,259.76001,260.359985,260.230011,262.869995,262.709991,265.01001,264.459991,264.140015,263.190002,263.23999,264.070007,265.51001,266.309998,266.779999,266.75,265.660004,266.51001,268.200012,267.170013,267.029999,267.579987,267.51001,267.190002,267.320007,267.869995,266.859985,268.769989,270.470001,271.609985,273.420013,273.920013,274.540009,274.119995,276.119995,277.920013,276.970001,279.609985,279.140015,280.410004,282.690002,283.290009,283.179993,283.299988,286.579987,284.679993,281.76001,281.899994,281.579987,275.450012,263.929993,269.130005,267.670013,257.630005,261.5,265.339996,266,269.589996,273.029999,273.109985,271.399994,270.049988,270.399994,274.709991,277.899994,274.429993,271.649994,267.700012,269.079987,272.190002,272.880005,272.779999,274.100006,278.869995,278.519989,276.720001,275.299988,275,274.200012,270.48999,270.950012,270.429993,263.670013,258.049988,265.109985,260.600006,259.829987,263.149994,257.470001,260.769989,263.559998,265.640015,259.720001,261,265.149994,263.76001,265.929993,265.149994,267.329987,270.190002,270.390015,268.890015,266.609985,266.570007,262.980011,263.630005,266.309998,266.559998,264.51001,264.980011,263.200012,262.619995,266.019989,266.920013,266.920013,269.5,272.019989,272.850006,272.980011,271.100006,272.23999,272.01001,271.329987,273.369995,272.609985,273.359985,272.799988,272.149994,269.019989,272.609985,270.940002,273.600006,274.899994,275.100006,277.399994,277.369995,278.190002,278.559998,278.920013,278.029999,278.730011,277.130005,276.559998,275.5,275.970001,274.23999,274.73999,271]],"plugins":{"Ribbon":{"data":[1,0.5,0.5,0.5,0.5,0.5,0.5,1,0.5,1,0.5,1,0.5,0.5,1,1,0.5,0.5,1,1,1,0.5,0.5,0.5,0.5,1,1,0.5,0.5,0.5,1,0.5,1,0.5,1,0.5,0.5,1,1,1,0.5,0.5,0.5,0.5,0.5,1,0.5,0.5,0.5,0.5,0.5,0.5,1,0.5,0.5,0.5,1,0.5,0.5,1,0.5,1,0.5,0.5,1,1,0.5,1,0.5,1,0.5,1,1,1,1,0.5,1,1,0.5,0.5,0.5,0.5,1,1,0.5,1,0.5,0.5,1,0.5,1,1,0.5,0.5,1,0.5,1,1,0.5,1,1,1,0,1,1,1,0.5,1,1,0.5,0.5,1,0.5,1,1,0.5,0.5,0.5,0.5,0.5,0.5,0.5,0.5,1,0.5,0.5,0.5,1,0.5,0.5,1,0.5,0.5,1,0.5,1,0.5,1,1,1,0.5,1,1,0.5,1,1,1,0.5,1,0.5,0.5,1,0.5,0.5,0.5,0.5,0.5,0.5,1,0.5,0.5,1,1,1,0.5,1,1,1,1,1,0.5,1,0.5,1,0.5,0.5,1,1,1,1,0.5,0.5,0.5,1,1,1,0.5,0.5,0.5,1,1,0.5,1,0.5,0.5,0.5,0.5,0.5,0.5,0.5,1,1,1,0.5,1,1,0.5,0.5,0.5,0.5,0.5,0.5,0.5,0.5,1,0.5,0.5,1,1,0.5,0.5,1,0.5,0.5,1,1,1,1,0.5,0.5,1,1,0.5,0.5,0.5,1,0.5,0.5,0.5,0.5,0.5,1,0.5,1,0.5,0.5,1,0.5,1,0.5,1,0.5,1,1,0,1,0,0.5,0,1,1,1,0.5,0.5,1,1,1,1,0.5,1,1,1,0.5,0.5,0.5,0.5,0.5,0.5,0.5,0.5,0.5,1,0.5,1,0.5,0.5,0.5,1,1,0.5,1,1,1,0.5,1,1,0.5,1,1,0.5,0.5,0.5,0.5,0.5,0.5,1,1,1,0.5,0.5,1,1,1,0.5,0.5,1,0.5,0.5,0.5,1,1,1,1,1,1,0.5,1,1,1,0.5,1,1,0.5,1,0.5,0.5,0.5,1,1,0.5,0.5,0.5,1,0.5,0.5,1,1,1,1,1,0.5,0.5,1,1,0.5,1,0.5,0.5,0.5,0.5,0.5,0.5,0.5,1,1,0.5,0.5,1,0.5,1,0.5,1,0,1,0.5,1,0.5,0.5,0.5,0.5,1,0.5,0.5,1,1,1,0.5,0.5,0.5,1,1,1,1],"parser":null,"options":{"palette":null,"top":0.1,"bottom":0.02}}}},"evals":[],"jsHooks":[]}</script>
<p>It is also possible to feed ribbon with data using a parser written in JavaScript. Parser has the following signature <code>function (rawData, dygraphInstance)</code> and must return an array. The following example uses such parser to make up a ribbon, also it uses custom palette:</p>
<pre class="r"><code>parser &lt;- &quot;function(rawData) {
  var openIdx = 1;
  var closeIdx = 4;
  var ribbonData = [];

  for (var i = 0; i &lt; rawData.length; i++) {
    var row = rawData[i];
    var open = row[openIdx];
    var close = row[closeIdx];

    if (open &lt; close) {
        ribbonData.push(0.5);
    } else if (open &gt; close) {
        ribbonData.push(1);
    } else {
        ribbonData.push(0);
    }
  }
  return ribbonData;
}&quot;

dygraph(SPY[, c(&quot;SPY.Open&quot;, &quot;SPY.High&quot;, &quot;SPY.Low&quot;, &quot;SPY.Close&quot;)]) %&gt;%
    dyRibbon(parser = parser,
             palette = c(&quot;#efefef&quot;, &quot;#ffe6e6&quot;, &quot;#ccebd6&quot;))</code></pre>
<div id="htmlwidget-ca47fd94bc4feabba937" style="width:624px;height:336px;" class="dygraphs html-widget"></div>
<script type="application/json" data-for="htmlwidget-ca47fd94bc4feabba937">{"x":{"attrs":{"labels":["day","SPY.Open","SPY.High","SPY.Low","SPY.Close"],"legend":"auto","retainDateWindow":false,"axes":{"x":{"pixelsPerLabel":60}}},"scale":"daily","annotations":[],"shadings":[],"events":[],"format":"date","data":[["2016-12-01T00:00:00.000Z","2016-12-02T00:00:00.000Z","2016-12-05T00:00:00.000Z","2016-12-06T00:00:00.000Z","2016-12-07T00:00:00.000Z","2016-12-08T00:00:00.000Z","2016-12-09T00:00:00.000Z","2016-12-12T00:00:00.000Z","2016-12-13T00:00:00.000Z","2016-12-14T00:00:00.000Z","2016-12-15T00:00:00.000Z","2016-12-16T00:00:00.000Z","2016-12-19T00:00:00.000Z","2016-12-20T00:00:00.000Z","2016-12-21T00:00:00.000Z","2016-12-22T00:00:00.000Z","2016-12-23T00:00:00.000Z","2016-12-27T00:00:00.000Z","2016-12-28T00:00:00.000Z","2016-12-29T00:00:00.000Z","2016-12-30T00:00:00.000Z","2017-01-03T00:00:00.000Z","2017-01-04T00:00:00.000Z","2017-01-05T00:00:00.000Z","2017-01-06T00:00:00.000Z","2017-01-09T00:00:00.000Z","2017-01-10T00:00:00.000Z","2017-01-11T00:00:00.000Z","2017-01-12T00:00:00.000Z","2017-01-13T00:00:00.000Z","2017-01-17T00:00:00.000Z","2017-01-18T00:00:00.000Z","2017-01-19T00:00:00.000Z","2017-01-20T00:00:00.000Z","2017-01-23T00:00:00.000Z","2017-01-24T00:00:00.000Z","2017-01-25T00:00:00.000Z","2017-01-26T00:00:00.000Z","2017-01-27T00:00:00.000Z","2017-01-30T00:00:00.000Z","2017-01-31T00:00:00.000Z","2017-02-01T00:00:00.000Z","2017-02-02T00:00:00.000Z","2017-02-03T00:00:00.000Z","2017-02-06T00:00:00.000Z","2017-02-07T00:00:00.000Z","2017-02-08T00:00:00.000Z","2017-02-09T00:00:00.000Z","2017-02-10T00:00:00.000Z","2017-02-13T00:00:00.000Z","2017-02-14T00:00:00.000Z","2017-02-15T00:00:00.000Z","2017-02-16T00:00:00.000Z","2017-02-17T00:00:00.000Z","2017-02-21T00:00:00.000Z","2017-02-22T00:00:00.000Z","2017-02-23T00:00:00.000Z","2017-02-24T00:00:00.000Z","2017-02-27T00:00:00.000Z","2017-02-28T00:00:00.000Z","2017-03-01T00:00:00.000Z","2017-03-02T00:00:00.000Z","2017-03-03T00:00:00.000Z","2017-03-06T00:00:00.000Z","2017-03-07T00:00:00.000Z","2017-03-08T00:00:00.000Z","2017-03-09T00:00:00.000Z","2017-03-10T00:00:00.000Z","2017-03-13T00:00:00.000Z","2017-03-14T00:00:00.000Z","2017-03-15T00:00:00.000Z","2017-03-16T00:00:00.000Z","2017-03-17T00:00:00.000Z","2017-03-20T00:00:00.000Z","2017-03-21T00:00:00.000Z","2017-03-22T00:00:00.000Z","2017-03-23T00:00:00.000Z","2017-03-24T00:00:00.000Z","2017-03-27T00:00:00.000Z","2017-03-28T00:00:00.000Z","2017-03-29T00:00:00.000Z","2017-03-30T00:00:00.000Z","2017-03-31T00:00:00.000Z","2017-04-03T00:00:00.000Z","2017-04-04T00:00:00.000Z","2017-04-05T00:00:00.000Z","2017-04-06T00:00:00.000Z","2017-04-07T00:00:00.000Z","2017-04-10T00:00:00.000Z","2017-04-11T00:00:00.000Z","2017-04-12T00:00:00.000Z","2017-04-13T00:00:00.000Z","2017-04-17T00:00:00.000Z","2017-04-18T00:00:00.000Z","2017-04-19T00:00:00.000Z","2017-04-20T00:00:00.000Z","2017-04-21T00:00:00.000Z","2017-04-24T00:00:00.000Z","2017-04-25T00:00:00.000Z","2017-04-26T00:00:00.000Z","2017-04-27T00:00:00.000Z","2017-04-28T00:00:00.000Z","2017-05-01T00:00:00.000Z","2017-05-02T00:00:00.000Z","2017-05-03T00:00:00.000Z","2017-05-04T00:00:00.000Z","2017-05-05T00:00:00.000Z","2017-05-08T00:00:00.000Z","2017-05-09T00:00:00.000Z","2017-05-10T00:00:00.000Z","2017-05-11T00:00:00.000Z","2017-05-12T00:00:00.000Z","2017-05-15T00:00:00.000Z","2017-05-16T00:00:00.000Z","2017-05-17T00:00:00.000Z","2017-05-18T00:00:00.000Z","2017-05-19T00:00:00.000Z","2017-05-22T00:00:00.000Z","2017-05-23T00:00:00.000Z","2017-05-24T00:00:00.000Z","2017-05-25T00:00:00.000Z","2017-05-26T00:00:00.000Z","2017-05-30T00:00:00.000Z","2017-05-31T00:00:00.000Z","2017-06-01T00:00:00.000Z","2017-06-02T00:00:00.000Z","2017-06-05T00:00:00.000Z","2017-06-06T00:00:00.000Z","2017-06-07T00:00:00.000Z","2017-06-08T00:00:00.000Z","2017-06-09T00:00:00.000Z","2017-06-12T00:00:00.000Z","2017-06-13T00:00:00.000Z","2017-06-14T00:00:00.000Z","2017-06-15T00:00:00.000Z","2017-06-16T00:00:00.000Z","2017-06-19T00:00:00.000Z","2017-06-20T00:00:00.000Z","2017-06-21T00:00:00.000Z","2017-06-22T00:00:00.000Z","2017-06-23T00:00:00.000Z","2017-06-26T00:00:00.000Z","2017-06-27T00:00:00.000Z","2017-06-28T00:00:00.000Z","2017-06-29T00:00:00.000Z","2017-06-30T00:00:00.000Z","2017-07-03T00:00:00.000Z","2017-07-05T00:00:00.000Z","2017-07-06T00:00:00.000Z","2017-07-07T00:00:00.000Z","2017-07-10T00:00:00.000Z","2017-07-11T00:00:00.000Z","2017-07-12T00:00:00.000Z","2017-07-13T00:00:00.000Z","2017-07-14T00:00:00.000Z","2017-07-17T00:00:00.000Z","2017-07-18T00:00:00.000Z","2017-07-19T00:00:00.000Z","2017-07-20T00:00:00.000Z","2017-07-21T00:00:00.000Z","2017-07-24T00:00:00.000Z","2017-07-25T00:00:00.000Z","2017-07-26T00:00:00.000Z","2017-07-27T00:00:00.000Z","2017-07-28T00:00:00.000Z","2017-07-31T00:00:00.000Z","2017-08-01T00:00:00.000Z","2017-08-02T00:00:00.000Z","2017-08-03T00:00:00.000Z","2017-08-04T00:00:00.000Z","2017-08-07T00:00:00.000Z","2017-08-08T00:00:00.000Z","2017-08-09T00:00:00.000Z","2017-08-10T00:00:00.000Z","2017-08-11T00:00:00.000Z","2017-08-14T00:00:00.000Z","2017-08-15T00:00:00.000Z","2017-08-16T00:00:00.000Z","2017-08-17T00:00:00.000Z","2017-08-18T00:00:00.000Z","2017-08-21T00:00:00.000Z","2017-08-22T00:00:00.000Z","2017-08-23T00:00:00.000Z","2017-08-24T00:00:00.000Z","2017-08-25T00:00:00.000Z","2017-08-28T00:00:00.000Z","2017-08-29T00:00:00.000Z","2017-08-30T00:00:00.000Z","2017-08-31T00:00:00.000Z","2017-09-01T00:00:00.000Z","2017-09-05T00:00:00.000Z","2017-09-06T00:00:00.000Z","2017-09-07T00:00:00.000Z","2017-09-08T00:00:00.000Z","2017-09-11T00:00:00.000Z","2017-09-12T00:00:00.000Z","2017-09-13T00:00:00.000Z","2017-09-14T00:00:00.000Z","2017-09-15T00:00:00.000Z","2017-09-18T00:00:00.000Z","2017-09-19T00:00:00.000Z","2017-09-20T00:00:00.000Z","2017-09-21T00:00:00.000Z","2017-09-22T00:00:00.000Z","2017-09-25T00:00:00.000Z","2017-09-26T00:00:00.000Z","2017-09-27T00:00:00.000Z","2017-09-28T00:00:00.000Z","2017-09-29T00:00:00.000Z","2017-10-02T00:00:00.000Z","2017-10-03T00:00:00.000Z","2017-10-04T00:00:00.000Z","2017-10-05T00:00:00.000Z","2017-10-06T00:00:00.000Z","2017-10-09T00:00:00.000Z","2017-10-10T00:00:00.000Z","2017-10-11T00:00:00.000Z","2017-10-12T00:00:00.000Z","2017-10-13T00:00:00.000Z","2017-10-16T00:00:00.000Z","2017-10-17T00:00:00.000Z","2017-10-18T00:00:00.000Z","2017-10-19T00:00:00.000Z","2017-10-20T00:00:00.000Z","2017-10-23T00:00:00.000Z","2017-10-24T00:00:00.000Z","2017-10-25T00:00:00.000Z","2017-10-26T00:00:00.000Z","2017-10-27T00:00:00.000Z","2017-10-30T00:00:00.000Z","2017-10-31T00:00:00.000Z","2017-11-01T00:00:00.000Z","2017-11-02T00:00:00.000Z","2017-11-03T00:00:00.000Z","2017-11-06T00:00:00.000Z","2017-11-07T00:00:00.000Z","2017-11-08T00:00:00.000Z","2017-11-09T00:00:00.000Z","2017-11-10T00:00:00.000Z","2017-11-13T00:00:00.000Z","2017-11-14T00:00:00.000Z","2017-11-15T00:00:00.000Z","2017-11-16T00:00:00.000Z","2017-11-17T00:00:00.000Z","2017-11-20T00:00:00.000Z","2017-11-21T00:00:00.000Z","2017-11-22T00:00:00.000Z","2017-11-24T00:00:00.000Z","2017-11-27T00:00:00.000Z","2017-11-28T00:00:00.000Z","2017-11-29T00:00:00.000Z","2017-11-30T00:00:00.000Z","2017-12-01T00:00:00.000Z","2017-12-04T00:00:00.000Z","2017-12-05T00:00:00.000Z","2017-12-06T00:00:00.000Z","2017-12-07T00:00:00.000Z","2017-12-08T00:00:00.000Z","2017-12-11T00:00:00.000Z","2017-12-12T00:00:00.000Z","2017-12-13T00:00:00.000Z","2017-12-14T00:00:00.000Z","2017-12-15T00:00:00.000Z","2017-12-18T00:00:00.000Z","2017-12-19T00:00:00.000Z","2017-12-20T00:00:00.000Z","2017-12-21T00:00:00.000Z","2017-12-22T00:00:00.000Z","2017-12-26T00:00:00.000Z","2017-12-27T00:00:00.000Z","2017-12-28T00:00:00.000Z","2017-12-29T00:00:00.000Z","2018-01-02T00:00:00.000Z","2018-01-03T00:00:00.000Z","2018-01-04T00:00:00.000Z","2018-01-05T00:00:00.000Z","2018-01-08T00:00:00.000Z","2018-01-09T00:00:00.000Z","2018-01-10T00:00:00.000Z","2018-01-11T00:00:00.000Z","2018-01-12T00:00:00.000Z","2018-01-16T00:00:00.000Z","2018-01-17T00:00:00.000Z","2018-01-18T00:00:00.000Z","2018-01-19T00:00:00.000Z","2018-01-22T00:00:00.000Z","2018-01-23T00:00:00.000Z","2018-01-24T00:00:00.000Z","2018-01-25T00:00:00.000Z","2018-01-26T00:00:00.000Z","2018-01-29T00:00:00.000Z","2018-01-30T00:00:00.000Z","2018-01-31T00:00:00.000Z","2018-02-01T00:00:00.000Z","2018-02-02T00:00:00.000Z","2018-02-05T00:00:00.000Z","2018-02-06T00:00:00.000Z","2018-02-07T00:00:00.000Z","2018-02-08T00:00:00.000Z","2018-02-09T00:00:00.000Z","2018-02-12T00:00:00.000Z","2018-02-13T00:00:00.000Z","2018-02-14T00:00:00.000Z","2018-02-15T00:00:00.000Z","2018-02-16T00:00:00.000Z","2018-02-20T00:00:00.000Z","2018-02-21T00:00:00.000Z","2018-02-22T00:00:00.000Z","2018-02-23T00:00:00.000Z","2018-02-26T00:00:00.000Z","2018-02-27T00:00:00.000Z","2018-02-28T00:00:00.000Z","2018-03-01T00:00:00.000Z","2018-03-02T00:00:00.000Z","2018-03-05T00:00:00.000Z","2018-03-06T00:00:00.000Z","2018-03-07T00:00:00.000Z","2018-03-08T00:00:00.000Z","2018-03-09T00:00:00.000Z","2018-03-12T00:00:00.000Z","2018-03-13T00:00:00.000Z","2018-03-14T00:00:00.000Z","2018-03-15T00:00:00.000Z","2018-03-16T00:00:00.000Z","2018-03-19T00:00:00.000Z","2018-03-20T00:00:00.000Z","2018-03-21T00:00:00.000Z","2018-03-22T00:00:00.000Z","2018-03-23T00:00:00.000Z","2018-03-26T00:00:00.000Z","2018-03-27T00:00:00.000Z","2018-03-28T00:00:00.000Z","2018-03-29T00:00:00.000Z","2018-04-02T00:00:00.000Z","2018-04-03T00:00:00.000Z","2018-04-04T00:00:00.000Z","2018-04-05T00:00:00.000Z","2018-04-06T00:00:00.000Z","2018-04-09T00:00:00.000Z","2018-04-10T00:00:00.000Z","2018-04-11T00:00:00.000Z","2018-04-12T00:00:00.000Z","2018-04-13T00:00:00.000Z","2018-04-16T00:00:00.000Z","2018-04-17T00:00:00.000Z","2018-04-18T00:00:00.000Z","2018-04-19T00:00:00.000Z","2018-04-20T00:00:00.000Z","2018-04-23T00:00:00.000Z","2018-04-24T00:00:00.000Z","2018-04-25T00:00:00.000Z","2018-04-26T00:00:00.000Z","2018-04-27T00:00:00.000Z","2018-04-30T00:00:00.000Z","2018-05-01T00:00:00.000Z","2018-05-02T00:00:00.000Z","2018-05-03T00:00:00.000Z","2018-05-04T00:00:00.000Z","2018-05-07T00:00:00.000Z","2018-05-08T00:00:00.000Z","2018-05-09T00:00:00.000Z","2018-05-10T00:00:00.000Z","2018-05-11T00:00:00.000Z","2018-05-14T00:00:00.000Z","2018-05-15T00:00:00.000Z","2018-05-16T00:00:00.000Z","2018-05-17T00:00:00.000Z","2018-05-18T00:00:00.000Z","2018-05-21T00:00:00.000Z","2018-05-22T00:00:00.000Z","2018-05-23T00:00:00.000Z","2018-05-24T00:00:00.000Z","2018-05-25T00:00:00.000Z","2018-05-29T00:00:00.000Z","2018-05-30T00:00:00.000Z","2018-05-31T00:00:00.000Z","2018-06-01T00:00:00.000Z","2018-06-04T00:00:00.000Z","2018-06-05T00:00:00.000Z","2018-06-06T00:00:00.000Z","2018-06-07T00:00:00.000Z","2018-06-08T00:00:00.000Z","2018-06-11T00:00:00.000Z","2018-06-12T00:00:00.000Z","2018-06-13T00:00:00.000Z","2018-06-14T00:00:00.000Z","2018-06-15T00:00:00.000Z","2018-06-18T00:00:00.000Z","2018-06-19T00:00:00.000Z","2018-06-20T00:00:00.000Z","2018-06-21T00:00:00.000Z","2018-06-22T00:00:00.000Z","2018-06-25T00:00:00.000Z"],[220.729996,219.669998,220.649994,221.220001,221.520004,224.570007,225.410004,226.399994,227.020004,227.410004,226.160004,226.009995,225.25,226.149994,226.25,225.600006,225.429993,226.020004,226.570007,224.479996,224.729996,225.039993,225.619995,226.270004,226.529999,226.910004,226.479996,226.360001,226.5,226.729996,226.309998,226.539993,226.839996,226.699997,226.740005,226.399994,228.699997,229.399994,229.419998,228.169998,226.979996,227.529999,227.619995,228.820007,228.869995,229.380005,228.940002,229.240005,231,232.080002,232.559998,233.449997,234.949997,233.949997,235.520004,236.020004,236.880005,235.460007,236.639999,236.669998,238.389999,239.559998,238.169998,237.5,237.360001,237.339996,236.699997,237.970001,237.619995,237.179993,237.559998,239.110001,237.75,237.029999,237.470001,233.770004,234.279999,234.380005,231.929993,233.270004,234.990005,235.470001,235.899994,235.800003,235,236.259995,234.940002,235.149994,235.360001,234.899994,234.740005,233.639999,233.110001,233.720001,234.520004,234.149994,235.25,237.179993,237.910004,238.509995,238.770004,238.899994,238.679993,238.839996,238.770004,238.830002,239.190002,239.75,239.960007,239.389999,239.350006,239.089996,239.470001,240.639999,240.080002,235.729996,237.330002,238.899994,239.949997,240.320007,241.199997,241.539993,241.339996,241.839996,241.970001,243.419998,243.970001,243.339996,243.600006,243.770004,244.089996,243.130005,243.979996,244.860001,242.679993,242.770004,243.589996,244.25,243.460007,242.960007,242.910004,243.899994,243.039993,242.5,243.660004,242.279999,242.880005,242.630005,241.889999,241.210007,242.110001,242.369995,243.300003,244.020004,244.419998,245.470001,245.059998,246.020004,247.279999,246.440002,246.789993,247.679993,247.75,247.960007,246.649994,247.369995,247.460007,247.470001,247.309998,247.520004,247.490005,247.509995,246.470001,246.289993,244.020004,245.589996,246.979996,247.110001,246.240005,242.899994,242.639999,243.570007,244.330002,245,244.899994,245.169998,243.059998,244.830002,246.720001,247.919998,247.259995,246.839996,247.25,246.539993,248.039993,249.630005,249.720001,249.800003,248.690002,249.610001,250,250.070007,249.880005,249.050003,249.149994,249.419998,249.880005,249.729996,250.339996,251.490005,252.320007,252.690002,253.539993,254.149994,254.630005,254.600006,254.509995,254.660004,255.139999,255.210007,255.229996,255.899994,254.830002,256.700012,257.480011,256.600006,256.179993,255.990005,256.470001,256.470001,257.179993,258.040009,257.410004,257.769989,258.299988,258.970001,258.470001,257.730011,257.730011,257.309998,257.410004,256.619995,257.519989,258.220001,258.140015,259.179993,260,260.320007,260.410004,260.76001,263.019989,263.76001,264.76001,266.309998,263.190002,263.299988,264.070007,265.160004,266.309998,267.209991,267.059998,267.089996,265.450012,268.100006,268.480011,268.269989,267.73999,267.600006,267.049988,267.380005,267.890015,268.529999,267.839996,268.959991,271.200012,272.51001,273.309998,274.399994,273.679993,274.75,276.420013,279.350006,278.029999,279.480011,279.799988,280.170013,282.73999,284.019989,284.160004,284.25,285.929993,282.600006,282.730011,281.070007,280.079987,273.450012,259.940002,268.5,268.01001,260.799988,263.829987,263.970001,264.309998,271.570007,272.320007,272.029999,271.899994,271.100006,271.790009,275.929993,278.109985,275.679993,271.410004,265.799988,267.730011,273.299988,270.420013,273.549988,275.700012,279.200012,279.839996,277.809998,275.880005,274.5,273.350006,270.940002,270.899994,267.910004,264.170013,262.130005,266.170013,260.75,261.119995,262.549988,258.869995,256.75,265.549988,263.420013,261.369995,264.269989,263.470001,265.26001,267.410004,267,269.329987,270.690002,269.649994,268.809998,267.26001,267.730011,262.910004,264.790009,267,267.26001,263.869995,264.76001,262.26001,261.519989,266.890015,266.5,267.679993,270.339996,272.160004,273.339996,271.589996,271.140015,271.940002,271.619995,273.01001,273.959991,271.170013,272.910004,272.149994,270.309998,270.5,272.149994,272.410004,274.529999,275.049988,275.790009,277.950012,276.850006,278.440002,279.029999,279.190002,279.01001,276.600006,275.48999,274,276.269989,275.959991,275.660004,273.440002],[220.729996,220.25,221.399994,221.740005,224.669998,225.699997,226.529999,226.960007,228.339996,228.229996,227.809998,226.080002,226.020004,226.570007,226.449997,225.740005,225.720001,226.729996,226.589996,224.889999,224.830002,225.830002,226.75,226.580002,227.75,227.070007,227.449997,227.100006,226.75,227.399994,226.779999,226.800003,227,227.309998,226.809998,228.080002,229.570007,229.710007,229.589996,228.199997,227.600006,228.589996,228.100006,229.550003,229.330002,229.660004,229.389999,230.949997,231.770004,233.070007,233.710007,235.139999,235.160004,235.089996,236.690002,236.539993,236.899994,236.789993,237.309998,236.949997,240.320007,239.570007,238.610001,238.119995,237.770004,237.639999,237.240005,238.020004,237.860001,237.240005,239.440002,239.199997,237.970001,237.360001,237.610001,234.610001,235.339996,235.039993,233.919998,235.809998,235.809998,236.520004,236.509995,236.029999,235.580002,237.389999,236.039993,236,236.259995,235.179993,234.960007,234.490005,234.570007,234.490005,234.949997,235.850006,235.309998,237.410004,238.949997,239.529999,238.949997,238.929993,239.169998,238.979996,238.880005,238.919998,239.720001,239.919998,240.190002,239.869995,239.570007,239.429993,240.440002,240.669998,240.080002,237.75,239.080002,239.710007,240.240005,240.729996,242.080002,241.899994,241.789993,241.880005,243.380005,244.350006,244.300003,243.979996,243.919998,244.330002,245.009995,243.419998,244.610001,244.869995,243.910004,242.830002,244.729996,244.259995,243.589996,243.529999,243.509995,244.380005,243.380005,243.720001,243.720001,242.710007,243.380005,243.009995,242.029999,242.279999,242.800003,242.550003,244.199997,244.550003,245.970001,245.910004,245.720001,247,247.419998,246.910004,246.979996,247.800003,247.789993,248,247.059998,247.479996,247.5,247.600006,247.339996,247.789993,247.869995,248.910004,247.309998,246.440002,244.800003,246.789993,247,247.570007,246.600006,244.190002,243.199997,245.619995,245.050003,245.179993,245.610001,245.199997,245.149994,246.320007,247.770004,248.330002,247.520004,247.279999,247.270004,247.110001,249.300003,250.089996,250.210007,250.320007,249.289993,250.119995,250.070007,250.190002,249.979996,249.630005,249.550003,249.699997,250.490005,250.440002,251.320007,252.320007,252.889999,253.440002,254.679993,254.699997,254.699997,255.050003,255.020004,255.059998,255.270004,255.509995,255.520004,255.949997,255.830002,257.140015,257.51001,256.829987,256.309998,256.299988,257.890015,257.600006,257.440002,258.429993,257.75,258.5,259,259.350006,259.220001,258.390015,258.290009,258.589996,257.850006,257.220001,259.040009,258.589996,258.519989,260.200012,260.149994,260.480011,260.75,262.899994,263.630005,266.049988,265.309998,266.799988,265.149994,263.730011,264.429993,265.519989,266.380005,267.320007,267.559998,267.220001,267.040009,268.600006,268.529999,268.329987,268.390015,267.640015,267.440002,267.730011,267.920013,268.549988,268.809998,270.640015,272.160004,273.559998,274.100006,275.25,274.420013,276.119995,278.109985,280.089996,280.049988,279.959991,280.410004,282.690002,283.619995,284.700012,284.269989,286.630005,286.429993,284.73999,283.299988,283.059998,280.230011,275.850006,269.700012,272.359985,268.170013,263.609985,267.01001,266.619995,270,273.040009,275.320007,273.670013,274.720001,273.049988,274.709991,278.01001,278.920013,276.190002,273.170013,269.720001,272.890015,273.390015,273.179993,274.23999,278.869995,279.910004,280.410004,278.019989,276.609985,275.390015,274.399994,271.670013,273.269989,268.869995,264.540009,265.429993,266.769989,262.640015,265.26001,263.130005,261.309998,264.359985,266.640015,265.109985,264.839996,266.040009,265.640015,267,267.540009,268.200012,270.869995,271.299988,269.880005,269.059998,267.890015,267.980011,264.130005,267.25,267.339996,267.890015,265.100006,265.679993,263.359985,266.790009,268.019989,267.329987,269.869995,272.390015,273.149994,274.079987,271.609985,272.76001,273.230011,272.029999,273.980011,274.25,273.390015,273.220001,272.859985,271.170013,273.109985,272.48999,273.940002,275.190002,275.529999,277.519989,278.279999,278.25,279.369995,279.329987,279.480011,279.329987,277.51001,276.700012,275.75,276.720001,275.980011,275.790009,273.619995],[219.149994,219.259995,220.419998,220.660004,221.380005,224.259995,225.369995,225.759995,227,225.369995,225.889999,224.669998,225.080002,225.880005,225.770004,224.919998,225.210007,226,224.270004,223.839996,222.729996,223.880005,225.610001,225.479996,225.899994,226.419998,226.009995,225.589996,224.960007,226.690002,225.800003,225.899994,225.410004,225.970001,225.270004,226.270004,228.509995,229.009995,228.759995,226.410004,226.320007,226.940002,226.820007,228.460007,228.539993,228.720001,228.309998,229.240005,230.619995,232.050003,232.160004,233.389999,233.850006,233.929993,235.509995,235.830002,235.559998,235.410004,236.350006,236.020004,238.369995,238.210007,237.729996,237.009995,236.759995,236.399994,235.740005,236.589996,237.240005,236.190002,237.289993,238.100006,237.029999,236.320007,233.580002,233.050003,233.600006,232.960007,231.610001,233.139999,234.729996,235.270004,235.679993,233.910004,234.559998,234.539993,234.429993,234.639999,234.729996,233.339996,233.770004,232.509995,232.880005,233.080002,233.179993,233.779999,234.130005,234.559998,237.809998,238.350006,237.979996,237.929993,238.199997,238.300003,237.699997,237.779999,238.679993,239.169998,239.039993,239.149994,238.130005,238.669998,239.449997,239.630005,235.75,235.429993,237.270004,238.820007,239.509995,239.929993,240.960007,241.449997,241.160004,240.639999,241.639999,243.080002,243.759995,243.119995,242.830002,243.169998,241.949997,242.380005,243.580002,243.289993,242.360001,241.630005,243.479996,242.990005,242.410004,242.639999,242.470001,243.050003,241.309998,242.229996,239.960007,241.580002,242.210007,241.699997,240.339996,240.559998,241.759995,240.850006,243.300003,243.759995,244.309998,245.330002,244.669998,246.009995,246.470001,246.179993,246.279999,247.160004,247.130005,245.679993,246.130005,246.529999,246.720001,246.369995,246.639999,246.970001,247.369995,246.830002,246.059998,243.699997,243.75,245.550003,246.160004,246.449997,243.089996,242.199997,241.830002,243.550003,244.160004,243.75,244.389999,244.089996,242.929993,244.619995,246.050003,247.669998,244.949997,246.229996,246.399994,246.300003,248.020004,249.419998,249.589996,249.600006,248.570007,249.279999,249.600006,248.919998,249.190002,249.020004,248.080002,248.809998,248.869995,249.630005,250.130005,251.289993,252.229996,252.559998,253.199997,253.850006,253.649994,253.979996,254.320007,254.369995,254.639999,254.820007,254.979996,255.5,254.350006,255.770004,256.019989,256.149994,254,255.479996,255.630005,256.410004,256.809998,257.070007,256.190002,257.299988,258.220001,258.089996,258.149994,256.359985,257.369995,257.269989,256.519989,255.630005,257.470001,257.769989,257.859985,258.26001,259.570007,260.160004,260,260.649994,262.200012,263.670013,260.76001,264.079987,263.040009,262.709991,262.940002,264.029999,265.480011,266.350006,266.649994,265.600006,265.390015,267.980011,267.089996,266.690002,267.299988,266.899994,266.890015,267.01001,267.450012,266.640015,267.399994,268.959991,270.540009,271.950012,272.980011,274.079987,272.920013,274.559998,276.079987,276.179993,276.970001,278.579987,279.140015,280.109985,282.369995,281.839996,282.399994,283.959991,284.5,281.220001,280.679993,280.679993,275.410004,263.309998,258.700012,267.579987,257.589996,252.919998,261.660004,263.309998,264.299988,268.769989,272.269989,270.5,269.940002,269.640015,271.25,275.26001,274.359985,271.290009,266,264.820007,267.609985,271.179993,270.200012,272.420013,275.339996,278.079987,276.029999,274.670013,274.429993,274.140015,268.619995,270.179993,270.190002,263.359985,257.829987,259.410004,258.839996,258.579987,259.839996,254.669998,256.839996,256.600006,264.320007,258,259.940002,262.980011,263.390015,265.059998,264.01001,266.070007,268.75,269.869995,267.720001,265.609985,265.350006,261.279999,260.850006,264.290009,265.5,264.429993,262.109985,262.76001,259.049988,261.149994,266.109985,265.149994,267.089996,270.220001,271.579987,272.359985,270.029999,271.109985,271.130005,270.929993,272.570007,272.23999,270.98999,270.779999,271.579987,267.76001,270.420013,270.26001,272.329987,274.26001,274.179993,275.089996,276.339996,276.660004,278.309998,278.190002,277.799988,278.059998,275.350006,274.950012,273.529999,275.589996,273.679993,274.48999,269.100006],[219.570007,219.679993,221,221.699997,224.600006,225.149994,226.509995,226.25,227.759995,225.880005,226.809998,225.039993,225.529999,226.399994,225.770004,225.380005,225.710007,226.270004,224.399994,224.350006,223.529999,225.240005,226.580002,226.399994,227.210007,226.460007,226.460007,227.100006,226.529999,227.050003,226.25,226.75,225.910004,226.740005,226.149994,227.600006,229.570007,229.330002,228.970001,227.550003,227.529999,227.619995,227.770004,229.339996,228.929993,228.940002,229.240005,230.600006,231.509995,232.770004,233.699997,234.919998,234.720001,235.089996,236.490005,236.279999,236.440002,236.740005,237.110001,236.470001,239.779999,238.270004,238.419998,237.710007,237,236.559998,236.860001,237.690002,237.809998,236.899994,238.949997,238.479996,237.029999,236.770004,233.729996,234.279999,234.029999,233.860001,233.619995,235.320007,235.539993,236.289993,235.740005,235.330002,235.479996,234.779999,235.440002,235.199997,235.339996,235.059998,234.029999,232.509995,234.570007,233.869995,233.440002,235.339996,234.589996,237.169998,238.550003,238.399994,238.600006,238.080002,238.679993,238.770004,238.479996,238.759995,239.699997,239.660004,239.440002,239.869995,239.380005,238.979996,240.300003,240.080002,235.820007,236.770004,238.309998,239.520004,240.050003,240.610001,241.759995,241.710007,241.5,241.440002,243.360001,244.169998,243.990005,243.210007,243.660004,243.779999,243.410004,243.360001,244.550003,244.240005,243.770004,242.639999,244.660004,243.009995,242.949997,242.839996,243.130005,243.289993,241.330002,243.490005,241.350006,241.800003,242.210007,242.770004,240.550003,242.110001,242.369995,242.190002,244.009995,244.419998,245.559998,245.529999,245.660004,246.990005,247.100006,246.880005,246.820007,247.419998,247.429993,247.199997,246.910004,246.770004,247.320007,247.440002,246.960007,247.410004,247.869995,247.259995,247.25,243.759995,244.119995,246.539993,246.509995,246.940002,243.089996,242.710007,242.899994,245.440002,244.559998,243.990005,244.559998,244.570007,244.850006,246.009995,247.490005,247.839996,246.059998,246.899994,246.869995,246.580002,249.210007,250.050003,250.169998,250.089996,249.190002,249.720001,249.970001,250.059998,249.389999,249.440002,248.929993,249.080002,250.050003,250.350006,251.229996,252.320007,252.860001,253.160004,254.660004,254.369995,253.949997,254.619995,255.020004,254.639999,254.949997,255.289993,255.470001,255.720001,255.789993,257.109985,256.109985,256.559998,255.289993,255.619995,257.709991,256.75,257.149994,257.48999,257.589996,258.450012,258.850006,258.670013,259.109985,258.170013,258.089996,258.329987,257.730011,256.440002,258.619995,257.859985,258.299988,259.98999,259.76001,260.359985,260.230011,262.869995,262.709991,265.01001,264.459991,264.140015,263.190002,263.23999,264.070007,265.51001,266.309998,266.779999,266.75,265.660004,266.51001,268.200012,267.170013,267.029999,267.579987,267.51001,267.190002,267.320007,267.869995,266.859985,268.769989,270.470001,271.609985,273.420013,273.920013,274.540009,274.119995,276.119995,277.920013,276.970001,279.609985,279.140015,280.410004,282.690002,283.290009,283.179993,283.299988,286.579987,284.679993,281.76001,281.899994,281.579987,275.450012,263.929993,269.130005,267.670013,257.630005,261.5,265.339996,266,269.589996,273.029999,273.109985,271.399994,270.049988,270.399994,274.709991,277.899994,274.429993,271.649994,267.700012,269.079987,272.190002,272.880005,272.779999,274.100006,278.869995,278.519989,276.720001,275.299988,275,274.200012,270.48999,270.950012,270.429993,263.670013,258.049988,265.109985,260.600006,259.829987,263.149994,257.470001,260.769989,263.559998,265.640015,259.720001,261,265.149994,263.76001,265.929993,265.149994,267.329987,270.190002,270.390015,268.890015,266.609985,266.570007,262.980011,263.630005,266.309998,266.559998,264.51001,264.980011,263.200012,262.619995,266.019989,266.920013,266.920013,269.5,272.019989,272.850006,272.980011,271.100006,272.23999,272.01001,271.329987,273.369995,272.609985,273.359985,272.799988,272.149994,269.019989,272.609985,270.940002,273.600006,274.899994,275.100006,277.399994,277.369995,278.190002,278.559998,278.920013,278.029999,278.730011,277.130005,276.559998,275.5,275.970001,274.23999,274.73999,271]],"plugins":{"Ribbon":{"data":null,"parser":"function(rawData) {\n  var openIdx = 1;\n  var closeIdx = 4;\n  var ribbonData = [];\n\n  for (var i = 0; i < rawData.length; i++) {\n    var row = rawData[i];\n    var open = row[openIdx];\n    var close = row[closeIdx];\n\n    if (open < close) {\n        ribbonData.push(0.5);\n    } else if (open > close) {\n        ribbonData.push(1);\n    } else {\n        ribbonData.push(0);\n    }\n  }\n  return ribbonData;\n}","options":{"palette":["#efefef","#ffe6e6","#ccebd6"],"top":1,"bottom":0}}}},"evals":["plugins.Ribbon.parser"],"jsHooks":[]}</script>


</div>  
</div>

<script>

// manage active state of toc based on current page
$(document).ready(function () {
    // active menu
    href = window.location.pathname;
    href = href.substr(href.lastIndexOf('/') + 1);
    if (href == "")
      href = "index.html";
    $('a[href="' + href + '"]').parent().addClass('active');
});

</script>

<!-- Fork me on Github Button -->

<a id="github-link" href="https://github.com/rstudio/dygraphs"><img style="position: absolute; top: 0; right: 0; border: 0;" src="https://camo.githubusercontent.com/38ef81f8aca64bb9a64448d0d70f1308ef5341ab/68747470733a2f2f73332e616d617a6f6e6177732e636f6d2f6769746875622f726962626f6e732f666f726b6d655f72696768745f6461726b626c75655f3132313632312e706e67" alt="Fork me on GitHub" data-canonical-src="https://s3.amazonaws.com/github/ribbons/forkme_right_darkblue_121621.png"></a>



</div>

<script>

// add bootstrap table styles to pandoc tables
function bootstrapStylePandocTables() {
  $('tr.header').parent('thead').parent('table').addClass('table table-condensed');
}
$(document).ready(function () {
  bootstrapStylePandocTables();
});


</script>


</body>
</html>
